<!-- Mobile Layout: ONLY Background + Bottom Nav -->

<!-- ✅ BACKGROUND ROWS -->
<div class="poster-rows" aria-hidden="true">
  <div class="row r1"><div class="inner"></div></div>
  <div class="row r2"><div class="inner"></div></div>
  <div class="row r3"><div class="inner"></div></div>
  <div class="row r4"><div class="inner"></div></div>
  <div class="row r5"><div class="inner"></div></div>
  <div class="row r6"><div class="inner"></div></div>
  <div class="row r7"><div class="inner"></div></div>
  <div class="row r8"><div class="inner"></div></div>
  <div class="row r9"><div class="inner"></div></div>
  <div class="row r10"><div class="inner"></div></div>
</div>

<!-- ✅ BOTTOM NAVIGATION BAR -->
<nav class="bottom-nav" *ngIf="showBottomNav()">
    <button
        class="nav-item"
        [class.active]="isActive('/search')"
        (click)="navigateTo('/search/all')"
        aria-label="Search">
        <i class='bx bx-search'></i>
    </button>

    <button
        class="nav-item"
        [class.active]="isActive('/library')"
        [class.disabled]="authResolved() && (!isAuthenticated() || !hasRatings())"
        (click)="isAuthenticated() && hasRatings() ? navigateTo('/library') : navigateOrLogin('/library')"
        aria-label="Library">
        <i class='bx bx-list-ul'></i>
    </button>

    <button
        class="nav-item home-button"
        [class.active]="isActive('/')"
        (click)="navigateTo('/')"
        aria-label="Home">
        <i class='bx bx-home-alt'></i>
    </button>

    <button
        class="nav-item"
        [class.active]="isActive('/messages')"
        [class.disabled]="authResolved() && !isAuthenticated()"
        (click)="navigateOrLogin('/messages')"
        aria-label="Messages">
        <i class='bx bx-message-rounded'></i>
        <span class="badge" *ngIf="isAuthenticated() && unreadCount > 0">{{ unreadCount }}</span>
    </button>

    <button
        class="nav-item"
        [class.active]="isActive('/account')"
        [class.disabled]="authResolved() && !isAuthenticated()"
        (click)="isAuthenticated() ? navigateTo('/account/' + currentUser()!.username) : navigateTo('/login')"
        aria-label="Account">
        <i class='bx bx-user'></i>
    </button>
</nav>

<!-- ✅ JUST ROUTER OUTLET - No wrapper -->
<router-outlet></router-outlet>